language: c
compiler: gcc
sudo: required
dist: trusty

install:
  - sudo apt-get -qq update
  - sudo apt-get install -y libgdk-pixbuf2.0-dev libglade2-dev libx11-dev libxrandr-dev libxrender-dev

jobs:
  include:
    - stage: SonarQube Scan
      env:
        - SONAR="build-wrapper-linux-x86-64 --out-dir bw-output"
      cache:
        directories:
          - $HOME/.sonar/cache

      addons:
          sonarcloud:
             organization: rbtylee-github
             token:
               secure: "NP8+yty6t+dxOfFvToRHjAKGeFc8COiiIAM+XYoISIAfNam7IE4wyfX8qYcg9con+9Q4pcAqUITfhhuxQiAeP9yrILXoVJ4baDk33wTs1sazsmUGjuUv4Zo/tLhBoSPh72LPqaxrYDwshRnLRr4NXzHiM6i0UPqqyXe4C1+om2c5r70q4VrDt3JF3ZKzYXFdmSDdFiCyaCB09bE7F/MZkR7Atd9ZZx0/CtUtOQlhS49tTSwvU5TCHy27qzmOt/D1CPjoj8f5N9+rMSH+tFu3ivVrQqBI41BWAuZ3NoIT/a72KsDJF44IWEFO4aCX7VtEcaquaciktgP9ZxB1BW0MXC5OHV4VzJHHmneUfpIWB5etPND+YayUenNExmkCz0zOKgmV3M3Yu/Wm8/S05AWxTpcjHrpew6ukBa7Zabhb3EE77p9dp9QUJ1azlMZO+glcw2d6c1PwEGtHF9NMAJ/seeWHU7XxAfYbreDtyj4SaErqglnRUSwFs2AeEvFlBOAAN+/a8JBLFsy5hRNspv0eD94vTwIp5cyo1gX50A1thaCcM/OssoDHIhZEZwgPysZ50JK2WMjzTs3duk1+BVAwqIEfRX8xcSWFwungSWNsux3OKIQrSYqCI9xF/JjIPo1kLVuuhzivGVPSHeKU2Y390EQVGV//DGyvj3BUuwgfr/M="

script:
- ./autogen.sh
- make
- sonar-scanner
notifications:
email: false
