language: c
compiler: gcc
sudo: required
dist: trusty

install:
  - sudo apt-get -qq update
  - sudo apt-get install -y libgdk-pixbuf2.0-dev libglade2-dev libx11-dev libxrandr-dev libxrender-dev

jobs:
  include:
    - stage: SonarQube Scan
      env:
        - SONAR="build-wrapper-linux-x86-64 --out-dir bw-output"
      cache:
        directories:
          - $HOME/.sonar/cache

      addons:
          sonarcloud:
             organization: rbtylee-github
             token:
               secure: "beFvrdSpEdcPKdRv1gHYHq84ZdMPgWhvylrtliRzM5rf6xQEzJYerUTfF/Nmh7MRALg54tvWwvc1HWkScmkhxqf2HtL6hiSiHeoG7H97znocaMeVJgwclBpTxLMGJHk/oLTgTWwCj3zzoTM2HBqCnj6ocXZoWDvWzuNPEywmxNtOsBu/XPTGhv3C0SCc6wZAoduUfZipXVZQnH4yavbv0AQI7WtkOuXzpaOeEsSSiV3LiWcPajAJkfubt/f9mud7gbAdLiBmymOPbsV/mdI9hMWJakJo7a0XJmngUL3olFl6tTJ4nX3ynZAcHQBpIAmWvuxfGmu56qHeM/gFuZFhJXQaxuKBxeAcgBcMBjzmBnchr2dc/8P541H9v6qDu4UKvbOEvFdOdS7Z8Jbz5g7kf7k+qFz608w+NGzaof/GXK7r+EpQ0aoT5JM0cViRa95pM5jGZXA1nJx2w9oSDFjnzjfjYEeA7pXZdJJXBPnj+nQkfLGV/+6QhZQJRQE/MyUxccvrsDqCqZJ6NY9MPXb1jgsmm8TQ6htpIIYZcuTQZujap0zdRltcF0Kw+mef3t8lBH2oeqxrRusHwc0gdkV6cbTHYukvM1xtaUxg9RtxixKqYEen8KuweoloNoV0XP9QMsPMcFxWMF94es+k7IashmzpbHMuY7gCJkACNPvdbLI="

script:
- ./autogen.sh
- make
- sonar-scanner
notifications:
email: false
